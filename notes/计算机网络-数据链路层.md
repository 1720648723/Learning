# 三、数据链路层（MAC层）

* **传输单位**：帧

* **功能**：链路的连接建立、分离；帧定界和帧同步；差错检测；

* **协议**：CSMA/CD（载波帧听多路访问/冲突检测）协议；PPP；HDLC

****

* **问：差错检测？**

* **答**：使用循环冗余码检验差错检测技术，只能做到对帧的无差错接受，即我同意收入怀中的肯定是好货，那些坏的我都丢了，你自己看着办吧，所以要依靠传输层的 TCP可靠传输来检验了。有人问为啥不在这一层就做了呢，其实吧现在电缆质量高，基本传输都能到，如果增加了完整性验证，那么肯定会拖慢速度，得不偿失，99% 到就可以了，你不知道追求剩下的1%可能要花上好几倍的代价么。

  ****

* **问：以太网？**

* **答**：IEEE802.3 可以等同于以太网标准，以太网 采用总线拓扑结构，所有计算机都共享一条总线，信息以广播方式发送。为了保证数据通信的可靠性，使用了 CSMA/CD 技术对总线进行访问控制。考虑到局域网信道质量好，所以稍微改进了下，增加传输速度，1. 采用无连接的工作方式； 2. 不对发送的数据帧进行编号，也不要求对方发送确认帧。就是我尽量给你发，差错纠正由传输层的 TCP 完成。

  **高速以太网**：传输速率大于等于 100Mbit/s，允许 10Mbit/s 网卡共存，标准定义的 MII 将 MAC 子层与物理层分隔开。

  ****

* **问：有人说数据链路层不提供重传机制，为什么以太网会有重传机制？**

* **答**：以太网是不可靠的，根据上面的介绍，它不知道对方有没有收到，但是如果知道自己发错了（CSMA/CD协议，有冲突时要停止发送，发了一半，下次你不给别人重发？）以太网重传是 微秒级 的，传输层是 毫秒级 的，应用层是 秒级 的，所以越底层的重传速度越快，所以可以的话，以太网也要具有重传机制。否则将花费更多代价。

  ****

* **问：计算机内的传输是（）传输，通信线路上的传输是（）传输？**

* **答**：并行，串行。并行是指“并排行走”或“同时实行或实施”。在操作系统中是指，一组程序按独立异步的速度执行，无论从微观还是宏观，程序都是一起执行的。对比地，并发是指:在同一个时间段内，两个或多个程序执行，有时间上的重叠(宏观上是同时,微观上仍是顺序执行)。串行通信是指 使用一条数据线，将数据一位一位地依次传输，每一位数据占据一个固定的时间长度。

  ****


* **问：局域网？**

* **答**：是指一个较小范围内的多台计算机互连，以达到资源和信息共享，优点：具有广播功能。

  ****


* **问：按照因特网的观点，用网桥连接起来的若干局域网仍为一个局域网，因此这些局域网都具有相同的网络号，请问这句话的说法是正确的吗？**

* **答**：对的。
  **网桥**：两个或以上端口，可将两个不同物理层，不同 MAC 子层，不同速率的以太网连接起来，适用于用户数不多的情况。可过滤帧，将同一个网段的帧**丢弃**，不予转发，可隔离冲突域。
  **工作方式**：网络 1 和网络 2 通过网桥连接后，网桥接收网络 1 发送的数据包，检查数据包中的地址，如果地址属于网络 1 ，它就将其放弃，相反，如果是网络 2 的地址，它就继续发送给网络 2。这样可利用网桥隔离信息，将同一个网络号划分成多个网段（属于同一个网络号），隔离出安全网段，防止其他网段内的用户非法访问。由于网络的分段，各网段相对独立（属于同一个网络号），一个网段的故障不会影响到另一个网段的运行。
  **交换机**：多端口网桥

  ****


* **问：CSMA/CD 工作流程？**

* **答**：先听后发，边听边发，冲突停发，随机重发：即每个站发送数据前先检测总线是否有其他计算机在发送数据，有-不发，没有-发。发送的同时监听着，若有冲突-等待会重发。

  ****

* **问：有固定基础设施的无线局域网的MAC层不能使用 CSMA/CD 协议，而是使用CSMA/CA协议。**

* **答**：CSMA/CA协议：工作方式略有不同，比 CSMA/CD 协议可靠，也是先听后发，但在发送完一个帧后会等待一段时间，如果有确认帧返回，则发送下一帧，否则重传上一帧。

  ****

* **问：PPP 接收到一个错误的数据帧时，丢弃该帧并返回一个否认帧？**

* **答**：对的。ppp，数据链路层协议，采用全双工通信方式，是数据链路层的一种可靠协议，但因为它不处理差错，对传输错误的帧只是简单的丢弃并告诉对方，“你发错了”要求对方重发，对错误的处理交给上层。因此不是完全意义上的可靠。

  ****

* **问：HDLC？**

* **答**：在通信较差的年代，数据链路层使用可靠传输协议是比较好的选择，因此就有了我们的 HDLC 协议，会使用三类反馈帧来确保传输的可靠性，信息帧，监督帧，无编号帧。

  ****

* **问：HDLC 和 PPP 比较？**

* **答**：PPP 是面向字节的，HDLC 是面向比特的。现在通信质量很高，一般不会出现很多错误，所以不需要那么繁杂的保证可靠，快就完事了，因此 PPP 应用的较多。

